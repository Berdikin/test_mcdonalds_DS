# Тестовое задание на позицию стажёра-аналитика Data Science в McDonalds

Холодным мартовским вечером мне позвонила эйчар и сказала, что представляет компанию "МакДональдс", а моё резюме её сильно заинтересовало. Я сильно удивился, потому что думал, что компания вообще-то приостановила свою работу в России. Но эйчар сказала, что IT-отделы продолжают работать, а я получил описание вакансии, которое можно найти в файле `vacancy.pdf`.

## Текст задания и описание решений

Задание было непростым, я убил два выходных, но справился. 

Задание было разделено на 3 части:
1. Навыки базового программирования + алгоритмов (можно выбрать любой язык)
2. Базовое знание SQL (навыки написания запросов)
3. Творческое задание по аналитике – предлагается проанализировать данные и выявить факторы, влияющие на отток клиентов

### Часть I. Программирование

1. Написать алгоритм сравнения версий формата x.x.x без использования дополнительных библиотек.
Если vers2 менее новая, чем vers1, то выводим 1;
если vers2 более новая, чем vers1, , то выводим -1;
если версии одинаковы - выводим 0;

Примеры:  
Для ver1 = "1.2.2" и ver2 = "1.2.0" version_cmpr(ver1, ver2) = 1;  
Для ver1 = "1.0.5" и ver2 = "1.1.0" version_cmpr(ver1, ver2) = -1;  
Для ver1 = "1.0.5" и ver2 = "1.00.05", version_cmpr(ver1, ver2) = 0;  

Решение доступно в файле `main_1.py`.

2. Есть отсортированный массив чисел. За O(N) по памяти и по времени реализовать функцию, которая вернет отсортированный массив квадратов этих чисел  

Примеры:  
lst= [-6, -4, -1, 2, 3, 5]: вывод sorting_squared(lst) = [1, 4, 9, 16, 25, 36]  
lst= [-2, -1, 0, 0, 3, 4]: вывод sorting_squared(lst) = [0, 0, 1, 4, 9, 16]  

Решение доступно в файле `main_2.py`.

3. Есть шахматная доска размером N на M, на клетке (x,y) стоит конь.  
Реализовать функцию solution(N, M, K, x, y), которая возвращает вероятность того, что двигаясь случайно (по правилам коня) K раз  
а) конь останется на шахматной доске (если один раз вышел за пределы доски - уже не может вернуться)  
б) конь окажется в той же стартовой клетке (x,y)  

Решение доступно в файле `main_3.py`. Но я, конечно же, задания б) не увидел, поэтому его не сделал :)

### Часть II. Базы данных

Описание таблиц и полей в базе данных:  
DB.SALES - таблица продаж в разрезе товар магазин день  
date - Дата в формате DATE  
store - Магазин  
item - Товар  
qnt - Количество проданных штук на конец дня  
stock - Остаток на конец дня  

DB.KEY_CATS - Таблица с категориями  
item - Товар  
category - Товарная категория  

DB.PRICES - Таблица цен и себестоимостей в разрезе товар-магазин день  
date - Дата  
store - Магазин  
item - Товар  
price - Цена  
cog - Себестоимость  


1. Написать запрос и вывести суммарную выручку и прибыльность в разрезе категория-магазин за последние 14 дней. 
Выручка = цена * количество проданных единиц
Прибыльность = (цена * количество проданных единиц - себестоимость*количество проданных единиц) / цена * количество проданных единиц

2. Вывести первые 5 самых продаваемых категорий за последний год, а также количество проданных штук и выручку в этих категориях

3. Определить дни дефицита (остаток на конец дня равен нулю). Если продажи в этот день меньше, чем средние продажи за предыдущие 14 дней, то заменить значение продаж на среднее за последние 14 дней.

Решение этих трёх задач, конечно же, доступно в файле `sql.txt`, но тут, знаете, я в последнем запросе прям не уверен.

### Часть III. Анализ данных

Предлагается провести первичный анализ и изучение данных (eda) для задачи оттока пользователей, подсветить проблемы в данных, а также определить основные факторы влияющие на отток + предложить дальнейшие шаги.

Список признаков:  
state - код штата  
account_lenght - как долго клиент обслуживается в компании  
area_code - префикс номера телефона  
phone_number - номер телефона  
international_plan - международный роуминг (подключен или нет)  
voice_mail_plan - голосовая почта (подключена или нет)  
number_vmail_messages - количество голосовых сообщений  
total_day_minutes - длительность разговора днем  
total_day_calls - общее количество звонков в день  
total_day_charge - общая сумма оплаты за услуги днем  
total_eve_minutes - длительность разговоров вечером  
total_eve_calls - общее количество вызовов вечером  
total_eve_charge - общая сумма оплаты услуг вечером  
total_night_minutes - длительность разговоров ночью  
total_night_calls - общее количество звонков в ночное время  
total_night_charge - общая сумма оплаты за услуги ночью  
total_intl_minutes - длительность международных разговоров  
total_intl_calls - общее количество интернациональных бесед  
total_intl_charge - общая сумма оплаты международных разговоров  
customer_service_calls - количество обращений в сервисный центр  
churn - признак оттока клиентов, бинарная переменная (1 – утрата клиента, то есть отток)  

Решение доступно в файле `test3.ipynb`, а если хочется самостоятельно поработать с датасетом, то он находится в файле `churn_dataset.csv`.

Как-то так. В итоге взяли другого кандидата, так что буду благодарен, если мне кто-то укажет на ошибки в данном тестовом задании.
